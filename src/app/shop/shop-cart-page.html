<div class="cart-page">
    <div class="cart-shell">
        <header class="cart-hero">
            <div>
                <p class="eyebrow">Shop</p>
                <h1>Shopping Cart</h1>
                <p class="lede">Review your selection and proceed to checkout.</p>
            </div>
        </header>

        <section class="cart-content" *ngIf="totalQuantity > 0; else emptyState">
            <div class="cart-items">
                <h2>Your Items ({{ totalQuantity }})</h2>
                <div class="cart-item" *ngFor="let item of items">
                    <img [src]="item.imageUrl" [alt]="item.title" class="item-image">
                    <div class="item-details">
                        <h3 class="item-title">{{ item.title }}</h3>
                        <p class="item-price">{{ item.price | number:'1.2-2' }} {{ item.currency }}</p>
                        <div class="item-controls">
                            <div class="qty-control">
                                <button (click)="decrement(item.id)" class="qty-btn">âˆ’</button>
                                <span class="qty-display">{{ item.quantity }}</span>
                                <button (click)="increment(item.id)" class="qty-btn">+</button>
                            </div>
                            <button class="remove-btn" (click)="remove(item.id)">Remove</button>
                        </div>
                    </div>
                    <div class="item-subtotal">
                        <span class="subtotal-label">Subtotal</span>
                        <strong class="subtotal-amount">{{ (item.price * item.quantity) | number:'1.2-2' }} {{
                            item.currency }}</strong>
                    </div>
                </div>
            </div>

            <aside class="cart-summary">
                <h2>Order Summary</h2>
                <div class="summary-row">
                    <span>Items ({{ totalQuantity }})</span>
                    <span>{{ total | number:'1.2-2' }} EUR</span>
                </div>
                <div class="summary-row">
                    <span>Shipping</span>
                    <span>Calculated at checkout</span>
                </div>
                <div class="summary-divider"></div>
                <div class="summary-total">
                    <span>Total</span>
                    <strong>{{ total | number:'1.2-2' }} EUR</strong>
                </div>

                <div class="checkout-actions">
                    <app-paypal-button [amount]="total" currency="EUR"></app-paypal-button>
                    <button class="continue-shopping" [routerLink]="['/gallery']">Continue Shopping</button>
                    <button class="clear-cart" (click)="clear()">Clear Cart</button>
                </div>
            </aside>
        </section>

        <ng-template #emptyState>
            <div class="empty-cart">
                <div class="empty-icon">ðŸ›’</div>
                <h2>Your cart is empty</h2>
                <p>Add photos from the gallery to get started.</p>
                <a [routerLink]="['/gallery']" class="browse-btn">Browse Gallery</a>
            </div>
        </ng-template>
    </div>
</div>